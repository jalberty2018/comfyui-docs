{
  "id": "ba1df054-50a8-4da2-b45a-25b4dde3cc2f",
  "revision": 0,
  "last_node_id": 404,
  "last_link_id": 768,
  "nodes": [
    {
      "id": 193,
      "type": "GetNode",
      "pos": [
        -1328.5882232286774,
        793.7044882051674
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            709
          ]
        }
      ],
      "title": "Get_positive",
      "properties": {},
      "widgets_values": [
        "positive"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 194,
      "type": "GetNode",
      "pos": [
        -1330.174526939615,
        844.8092245332924
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            710
          ]
        }
      ],
      "title": "Get_negative",
      "properties": {},
      "widgets_values": [
        "negative"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 186,
      "type": "GetNode",
      "pos": [
        -1333.34713436149,
        1002.8802084200112
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            713
          ]
        }
      ],
      "title": "Get_reference_image",
      "properties": {},
      "widgets_values": [
        "reference_image"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 171,
      "type": "GetNode",
      "pos": [
        -1325.4156158068024,
        1049.2254232637608
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            714
          ]
        }
      ],
      "title": "Get_face_video",
      "properties": {},
      "widgets_values": [
        "face_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 9,
      "type": "CLIPVisionEncode",
      "pos": [
        -3097.282581323046,
        910.3375408410138
      ],
      "size": [
        253.60000610351562,
        78
      ],
      "flags": {
        "collapsed": true
      },
      "order": 56,
      "mode": 0,
      "inputs": [
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 4
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 344
        }
      ],
      "outputs": [
        {
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "slot_index": 0,
          "links": [
            397
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        "none"
      ]
    },
    {
      "id": 201,
      "type": "SetNode",
      "pos": [
        -2898.978137963671,
        910.7693645714826
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 70,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "link": 397
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_clip_vision_output",
      "properties": {
        "previousName": "clip_vision_output"
      },
      "widgets_values": [
        "clip_vision_output"
      ]
    },
    {
      "id": 217,
      "type": "GetNode",
      "pos": [
        1111.850634069145,
        543.2085061229037
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            457
          ]
        }
      ],
      "title": "Get_audio",
      "properties": {},
      "widgets_values": [
        "audio"
      ]
    },
    {
      "id": 2,
      "type": "CLIPLoader",
      "pos": [
        -1780.744517534157,
        -50.727942434645826
      ],
      "size": [
        306.36004638671875,
        106
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            526
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "models": [
          {
            "name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ]
      },
      "widgets_values": [
        "wan21UMT5XxlFP32_fp32.safetensors",
        "wan",
        "default"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 192,
      "type": "SetNode",
      "pos": [
        -1413.194956987282,
        641.0100946747293
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 64,
      "mode": 0,
      "inputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "link": 525
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_negative",
      "properties": {
        "previousName": "negative"
      },
      "widgets_values": [
        "negative"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 191,
      "type": "SetNode",
      "pos": [
        -1767.028453081032,
        641.3159113251199
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 63,
      "mode": 0,
      "inputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "link": 524
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_positive",
      "properties": {
        "previousName": "positive"
      },
      "widgets_values": [
        "positive"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 202,
      "type": "GetNode",
      "pos": [
        -1326.0181548693024,
        955.8522543184487
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "links": [
            712
          ]
        }
      ],
      "title": "Get_clip_vision_output",
      "properties": {},
      "widgets_values": [
        "clip_vision_output"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 326,
      "type": "ComfyUI_Power_Flow.Int",
      "pos": [
        -3051.486846074282,
        -406.2709769921389
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "links": [
            620
          ]
        }
      ],
      "title": "Chunk size",
      "properties": {
        "Node name for S&R": "ComfyUI_Power_Flow.Int",
        "aux_id": "x3bits/ComfyUI-Power-Flow",
        "ver": "02849b2080737bb16edf7b82092094547b524f2d"
      },
      "widgets_values": [
        77
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 338,
      "type": "GetNode",
      "pos": [
        -3045.500517949282,
        -458.1691093163576
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            615
          ]
        }
      ],
      "title": "Get_total-frames",
      "properties": {},
      "widgets_values": [
        "total-frames"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 215,
      "type": "GetNode",
      "pos": [
        -2227.74267578125,
        796.5841793339882
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            428,
            507
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 216,
      "type": "GetNode",
      "pos": [
        -2064.209716796875,
        797.2737545293007
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            429,
            506
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 158,
      "type": "PixelPerfectResolution",
      "pos": [
        -2229.684326171875,
        868.0340084355507
      ],
      "size": [
        291.71484375,
        106
      ],
      "flags": {},
      "order": 59,
      "mode": 0,
      "inputs": [
        {
          "name": "original_image",
          "type": "IMAGE",
          "link": 644
        },
        {
          "name": "image_gen_width",
          "type": "INT",
          "widget": {
            "name": "image_gen_width"
          },
          "link": 507
        },
        {
          "name": "image_gen_height",
          "type": "INT",
          "widget": {
            "name": "image_gen_height"
          },
          "link": 506
        }
      ],
      "outputs": [
        {
          "name": "RESOLUTION (INT)",
          "type": "INT",
          "links": [
            360,
            361
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "PixelPerfectResolution",
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "59b027e088c1c8facf7258f6e392d16d204b4d27"
      },
      "widgets_values": [
        512,
        512,
        "Just Resize"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 214,
      "type": "SetNode",
      "pos": [
        -2485.794788354296,
        846.1741497277326
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 74,
      "mode": 0,
      "inputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "link": 466
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_original_fps",
      "properties": {
        "previousName": "original_fps"
      },
      "widgets_values": [
        "original_fps"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 246,
      "type": "VHS_VideoInfo",
      "pos": [
        -2691.067249291796,
        847.9765789269513
      ],
      "size": [
        233,
        206
      ],
      "flags": {
        "collapsed": true
      },
      "order": 61,
      "mode": 0,
      "inputs": [
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "link": 462
        }
      ],
      "outputs": [
        {
          "name": "source_fpsðŸŸ¨",
          "type": "FLOAT",
          "links": [
            466
          ]
        },
        {
          "name": "source_frame_countðŸŸ¨",
          "type": "INT",
          "links": null
        },
        {
          "name": "source_durationðŸŸ¨",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "source_widthðŸŸ¨",
          "type": "INT",
          "links": null
        },
        {
          "name": "source_heightðŸŸ¨",
          "type": "INT",
          "links": null
        },
        {
          "name": "loaded_fpsðŸŸ¦",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "loaded_frame_countðŸŸ¦",
          "type": "INT",
          "links": null
        },
        {
          "name": "loaded_durationðŸŸ¦",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "loaded_widthðŸŸ¦",
          "type": "INT",
          "links": null
        },
        {
          "name": "loaded_heightðŸŸ¦",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoInfo",
        "cnr_id": "comfyui-videohelpersuite",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530"
      },
      "widgets_values": {},
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 213,
      "type": "SetNode",
      "pos": [
        -2455.449573510546,
        798.9214031457013
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 60,
      "mode": 0,
      "inputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "link": 465
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_audio",
      "properties": {
        "previousName": "audio"
      },
      "widgets_values": [
        "audio"
      ]
    },
    {
      "id": 212,
      "type": "ImageScale",
      "pos": [
        -1897.443481445312,
        838.2735103886757
      ],
      "size": [
        270,
        130
      ],
      "flags": {},
      "order": 58,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 643
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 428
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 429
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            422,
            423,
            582
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        "lanczos",
        512,
        512,
        "center"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 313,
      "type": "GetImageSizeAndCount",
      "pos": [
        -1601.191284179687,
        848.2187008183632
      ],
      "size": [
        195.9,
        86
      ],
      "flags": {},
      "order": 71,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 582
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            583
          ]
        },
        {
          "label": "624 width",
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "label": "832 height",
          "name": "height",
          "type": "INT",
          "links": null
        },
        {
          "label": "401 count",
          "name": "count",
          "type": "INT",
          "links": [
            595
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSizeAndCount",
        "cnr_id": "comfyui-kjnodes",
        "ver": "3fcd22f2fe2be69c3229f192362b91888277cbcb"
      },
      "widgets_values": [],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 206,
      "type": "SetNode",
      "pos": [
        -1572.0903320312495,
        1023.3433956425821
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 77,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 583
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_input_video",
      "properties": {
        "previousName": "input_video"
      },
      "widgets_values": [
        "input_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 324,
      "type": "SetNode",
      "pos": [
        -1579.913940429687,
        1073.6768917363318
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 78,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 595
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_total-frames",
      "properties": {
        "previousName": "total-frames"
      },
      "widgets_values": [
        "total-frames"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 185,
      "type": "SetNode",
      "pos": [
        -3079.518421166796,
        1496.3690349816388
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 57,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 382
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_reference_image",
      "properties": {
        "previousName": "reference_image"
      },
      "widgets_values": [
        "reference_image"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 357,
      "type": "ImageFromBatch",
      "pos": [
        -2226.746826171875,
        1296.3152584355505
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 81,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 649
        },
        {
          "name": "batch_index",
          "type": "INT",
          "widget": {
            "name": "batch_index"
          },
          "link": 662
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            670
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch",
        "cnr_id": "comfy-core",
        "ver": "0.3.65"
      },
      "widgets_values": [
        0,
        1
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 358,
      "type": "ImageFromBatch",
      "pos": [
        -1889.392700195312,
        1305.7718014043005
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 79,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 651
        },
        {
          "name": "batch_index",
          "type": "INT",
          "widget": {
            "name": "batch_index"
          },
          "link": 663
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            671
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch",
        "cnr_id": "comfy-core",
        "ver": "0.3.65"
      },
      "widgets_values": [
        0,
        1
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 350,
      "type": "SetNode",
      "pos": [
        -2494.962432011782,
        -449.87412640620136
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 65,
      "mode": 0,
      "inputs": [
        {
          "name": "*",
          "type": "*",
          "link": 640
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_chunk_1",
      "properties": {
        "previousName": "chunk_1"
      },
      "widgets_values": [
        "chunk_1"
      ]
    },
    {
      "id": 343,
      "type": "SetNode",
      "pos": [
        -2492.272002324282,
        -395.2151908593264
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 66,
      "mode": 0,
      "inputs": [
        {
          "name": "*",
          "type": "*",
          "link": 621
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_chunk_list",
      "properties": {
        "previousName": "chunk_list"
      },
      "widgets_values": [
        "chunk_list"
      ]
    },
    {
      "id": 100,
      "type": "DWPreprocessor",
      "pos": [
        -1898.624145507812,
        1028.832409314457
      ],
      "size": [
        284.4007263183594,
        222
      ],
      "flags": {},
      "order": 72,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 422
        },
        {
          "name": "resolution",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "resolution"
          },
          "link": 360
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            651,
            667
          ]
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null
        }
      ],
      "title": "DWPose Estimator face",
      "properties": {
        "Node name for S&R": "DWPreprocessor",
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "59b027e088c1c8facf7258f6e392d16d204b4d27"
      },
      "widgets_values": [
        "disable",
        "disable",
        "enable",
        512,
        "yolox_l.onnx",
        "dw-ll_ucoco_384_bs5.torchscript.pt",
        "disable"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 169,
      "type": "SetNode",
      "pos": [
        -1579.4086914062495,
        1131.2836422246132
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 80,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 667
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_face_video",
      "properties": {
        "previousName": "face_video"
      },
      "widgets_values": [
        "face_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 101,
      "type": "DWPreprocessor",
      "pos": [
        -2229.5615234375,
        1027.4994625371132
      ],
      "size": [
        294.72265625,
        222
      ],
      "flags": {},
      "order": 73,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 423
        },
        {
          "name": "resolution",
          "shape": 7,
          "type": "INT",
          "widget": {
            "name": "resolution"
          },
          "link": 361
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            649,
            668
          ]
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null
        }
      ],
      "title": "DWPose Estimator pose",
      "properties": {
        "Node name for S&R": "DWPreprocessor",
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "59b027e088c1c8facf7258f6e392d16d204b4d27"
      },
      "widgets_values": [
        "enable",
        "enable",
        "disable",
        512,
        "yolox_l.onnx",
        "dw-ll_ucoco_384_bs5.torchscript.pt",
        "disable"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 168,
      "type": "SetNode",
      "pos": [
        -1579.8395996093745,
        1185.7453121464882
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 82,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 668
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_pose_video",
      "properties": {
        "previousName": "pose_video"
      },
      "widgets_values": [
        "pose_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 329,
      "type": "ComfyUI_Power_Flow.RunPythonScript",
      "pos": [
        -2759.189238652407,
        -447.62253949213886
      ],
      "size": [
        370,
        390
      ],
      "flags": {
        "collapsed": true
      },
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "input0",
          "type": "*",
          "link": 615
        },
        {
          "name": "input1",
          "type": "*",
          "link": 620
        }
      ],
      "outputs": [
        {
          "name": "output0",
          "type": "*",
          "links": [
            640
          ]
        },
        {
          "name": "output1",
          "type": "*",
          "links": [
            621
          ]
        },
        {
          "name": "output2",
          "type": "*",
          "links": [
            623
          ]
        },
        {
          "name": "output3",
          "type": "*",
          "links": [
            642
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ComfyUI_Power_Flow.RunPythonScript",
        "aux_id": "x3bits/ComfyUI-Power-Flow",
        "ver": "02849b2080737bb16edf7b82092094547b524f2d"
      },
      "widgets_values": [
        "total_frames = input0\nchunk_size = input1\n\nchunks = []\nremaining = total_frames\n\nwhile remaining > 0:\n    part = min(chunk_size, remaining)\n    chunks.append(part)\n    remaining -= part\n\na = chunks[0] if chunks else 0\nlst = chunks[1:] if len(chunks) > 1 else []\nrepeats = len(chunks) - 1\n\nresult = a,lst,repeats > 0, repeats\n",
        "result",
        null,
        null,
        null,
        null
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 368,
      "type": "PreviewImage",
      "pos": [
        -2219.83203125,
        1356.169628552738
      ],
      "size": [
        256.7658386230469,
        262.8999328613281
      ],
      "flags": {},
      "order": 86,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 670
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.65"
      },
      "widgets_values": [],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 369,
      "type": "PreviewImage",
      "pos": [
        -1886.988403320312,
        1358.925243787113
      ],
      "size": [
        256.7658386230469,
        262.8999328613281
      ],
      "flags": {},
      "order": 85,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 671
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.65"
      },
      "widgets_values": [],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 190,
      "type": "GetNode",
      "pos": [
        -1323.3340778526288,
        906.5269369356362
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            561,
            711
          ]
        }
      ],
      "title": "Get_VAE",
      "properties": {},
      "widgets_values": [
        "VAE"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 288,
      "type": "KSampler",
      "pos": [
        471.02939325399143,
        1009.0133214470244
      ],
      "size": [
        311.9029541015625,
        665.2039388020833
      ],
      "flags": {},
      "order": 103,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 557
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 703
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 704
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 705
        },
        {
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "link": 586
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            539
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        588632264380339,
        "fixed",
        16,
        1,
        "euler",
        "simple",
        1
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 298,
      "type": "GetNode",
      "pos": [
        -153.9801056477303,
        1163.459312782195
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "links": [
            691
          ]
        }
      ],
      "title": "Get_clip_vision_output",
      "properties": {},
      "widgets_values": [
        "clip_vision_output"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 295,
      "type": "GetNode",
      "pos": [
        -148.79149698576413,
        1104.6849187780028
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            548,
            690
          ]
        }
      ],
      "title": "Get_VAE",
      "properties": {},
      "widgets_values": [
        "VAE"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 297,
      "type": "GetNode",
      "pos": [
        -149.71708510114166,
        1050.2283958675603
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            689
          ]
        }
      ],
      "title": "Get_negative",
      "properties": {},
      "widgets_values": [
        "negative"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 296,
      "type": "GetNode",
      "pos": [
        -143.8627145538372,
        990.2537756031721
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            688
          ]
        }
      ],
      "title": "Get_positive",
      "properties": {},
      "widgets_values": [
        "positive"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 294,
      "type": "GetNode",
      "pos": [
        -152.32130220032153,
        1221.0907833689919
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            692
          ]
        }
      ],
      "title": "Get_reference_image",
      "properties": {},
      "widgets_values": [
        "reference_image"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 290,
      "type": "GetNode",
      "pos": [
        -152.19580432003482,
        1277.3348529296816
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            693
          ]
        }
      ],
      "title": "Get_face_video",
      "properties": {},
      "widgets_values": [
        "face_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 291,
      "type": "GetNode",
      "pos": [
        -149.10045651658461,
        1336.2888123635614
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            694
          ]
        }
      ],
      "title": "Get_pose_video",
      "properties": {},
      "widgets_values": [
        "pose_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 292,
      "type": "GetNode",
      "pos": [
        -145.14050560823836,
        1401.6210376084177
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 19,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            697
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 293,
      "type": "GetNode",
      "pos": [
        -142.96637809179657,
        1467.4728041324265
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 20,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            698
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 299,
      "type": "GetNode",
      "pos": [
        -144.87668692968714,
        1536.5230670137155
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 21,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            557
          ]
        }
      ],
      "title": "Get_MODEL",
      "properties": {},
      "widgets_values": [
        "MODEL"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 316,
      "type": "GetNode",
      "pos": [
        -142.8653687229001,
        1596.5312657829606
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 22,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            586
          ]
        }
      ],
      "title": "Get_SEED",
      "properties": {},
      "widgets_values": [
        "SEED"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 353,
      "type": "GetNode",
      "pos": [
        -141.6759960891582,
        1658.2451719539165
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 23,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": [
            708
          ]
        }
      ],
      "title": "Get_repeats",
      "properties": {},
      "widgets_values": [
        "repeats"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 289,
      "type": "TrimVideoLatent",
      "pos": [
        837.9548183222076,
        1019.4107121804484
      ],
      "size": [
        210,
        61.04346466064453
      ],
      "flags": {
        "collapsed": true
      },
      "order": 104,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 539
        },
        {
          "name": "trim_amount",
          "type": "INT",
          "widget": {
            "name": "trim_amount"
          },
          "link": 706
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            540
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "TrimVideoLatent",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        0
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 287,
      "type": "VAEDecode",
      "pos": [
        846.0774889571164,
        1087.4209308378338
      ],
      "size": [
        210,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 105,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 540
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 548
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            541
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 286,
      "type": "ImageFromBatch",
      "pos": [
        847.0868984003326,
        1151.8578780804917
      ],
      "size": [
        210,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 106,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 541
        },
        {
          "name": "batch_index",
          "type": "INT",
          "widget": {
            "name": "batch_index"
          },
          "link": 707
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            660
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        0,
        4096
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 170,
      "type": "GetNode",
      "pos": [
        -1329.6505510125971,
        1098.46616052326
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 24,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            715
          ]
        }
      ],
      "title": "Get_pose_video",
      "properties": {},
      "widgets_values": [
        "pose_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 114,
      "type": "DrawMaskOnImage",
      "pos": [
        -482.3068276961689,
        -333.9731176155387
      ],
      "size": [
        270,
        102
      ],
      "flags": {},
      "order": 91,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 417
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 250
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            647,
            700,
            725
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "DrawMaskOnImage",
        "cnr_id": "comfyui-kjnodes",
        "ver": "623b5913dc7f240fd8b26422e99f8849a21c5473"
      },
      "widgets_values": [
        "0, 0, 0",
        "cpu"
      ]
    },
    {
      "id": 112,
      "type": "BlockifyMask",
      "pos": [
        -486.14463223447865,
        -540.6917001250742
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 90,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "MASK",
          "link": 511
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            250,
            701,
            726
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "BlockifyMask",
        "cnr_id": "comfyui-kjnodes",
        "ver": "00da1910634fbf314d407608efb281ae6f7f1ba2"
      },
      "widgets_values": [
        32,
        "gpu"
      ]
    },
    {
      "id": 57,
      "type": "TrimVideoLatent",
      "pos": [
        -394.53244282384645,
        834.9585391644893
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 96,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 157
        },
        {
          "name": "trim_amount",
          "type": "INT",
          "widget": {
            "name": "trim_amount"
          },
          "link": 722
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            127
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "TrimVideoLatent",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        0
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 58,
      "type": "VAEDecode",
      "pos": [
        -392.3478114761901,
        901.1546416805846
      ],
      "size": [
        143.8777313232422,
        50.80889129638672
      ],
      "flags": {
        "collapsed": true
      },
      "order": 97,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 127
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 561
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            440
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 230,
      "type": "ImageFromBatch",
      "pos": [
        -401.01625933852046,
        963.3665723604562
      ],
      "size": [
        210,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 98,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 440
        },
        {
          "name": "batch_index",
          "type": "INT",
          "widget": {
            "name": "batch_index"
          },
          "link": 723
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            581
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        0,
        4096
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 311,
      "type": "GetImageSizeAndCount",
      "pos": [
        -433.1549346544563,
        1032.1473750560554
      ],
      "size": [
        195.9,
        86
      ],
      "flags": {},
      "order": 99,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 581
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            577
          ]
        },
        {
          "label": "624 width",
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "label": "832 height",
          "name": "height",
          "type": "INT",
          "links": null
        },
        {
          "label": "77 count",
          "name": "count",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSizeAndCount",
        "cnr_id": "comfyui-kjnodes",
        "ver": "3fcd22f2fe2be69c3229f192362b91888277cbcb"
      },
      "widgets_values": [],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 63,
      "type": "KSampler",
      "pos": [
        -789.5239405992883,
        804.1609801679149
      ],
      "size": [
        334.1457824707031,
        694.8610432942708
      ],
      "flags": {},
      "order": 95,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 399
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 719
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 720
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 721
        },
        {
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "link": 585
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            157
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        89900396299106,
        "fixed",
        16,
        1,
        "euler",
        "simple",
        1
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 386,
      "type": "WanAnimateToVideoEnhanced",
      "pos": [
        -1135.499180840355,
        812.5718384292023
      ],
      "size": [
        324.751953125,
        478
      ],
      "flags": {},
      "order": 93,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 709
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 710
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 711
        },
        {
          "name": "clip_vision_output",
          "shape": 7,
          "type": "CLIP_VISION_OUTPUT",
          "link": 712
        },
        {
          "name": "reference_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 713
        },
        {
          "name": "face_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 714
        },
        {
          "name": "pose_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 715
        },
        {
          "name": "background_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 725
        },
        {
          "name": "character_mask",
          "shape": 7,
          "type": "MASK",
          "link": 726
        },
        {
          "name": "continue_motion",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 716
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 717
        },
        {
          "name": "length",
          "type": "INT",
          "widget": {
            "name": "length"
          },
          "link": 718
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            719
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            720
          ]
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            721
          ]
        },
        {
          "name": "trim_latent",
          "type": "INT",
          "links": [
            722
          ]
        },
        {
          "name": "trim_image",
          "type": "INT",
          "links": [
            723
          ]
        },
        {
          "name": "video_frame_offset",
          "type": "INT",
          "links": [
            724
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "WanAnimateToVideoEnhanced",
        "cnr_id": "wananimate-enhancer",
        "aux_id": "wallen0322/ComfyUI-WanAnimate-Enhancer",
        "ver": "ded9f7f7af0e2d4075df12b5d14fdde05250c034"
      },
      "widgets_values": [
        832,
        480,
        77,
        1,
        5,
        0,
        1,
        1,
        1,
        1,
        true
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 180,
      "type": "GetNode",
      "pos": [
        -1321.5050833167113,
        1149.5255976031353
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 25,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            716
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 181,
      "type": "GetNode",
      "pos": [
        -1323.4384228969327,
        1203.1694465770292
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 26,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            717
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 351,
      "type": "GetNode",
      "pos": [
        -1328.179003424562,
        1256.4007861429334
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 27,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": [
            718
          ]
        }
      ],
      "title": "Get_chunk_1",
      "properties": {},
      "widgets_values": [
        "chunk_1"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 203,
      "type": "GetNode",
      "pos": [
        -1327.612465075097,
        1307.9651862685382
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 28,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            399
          ]
        }
      ],
      "title": "Get_MODEL",
      "properties": {},
      "widgets_values": [
        "MODEL"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 315,
      "type": "GetNode",
      "pos": [
        -1325.0899021255916,
        1367.7619457864419
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 29,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            585
          ]
        }
      ],
      "title": "Get_SEED",
      "properties": {},
      "widgets_values": [
        "SEED"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 282,
      "type": "ComfyUI_Power_Flow.ForLoopClose",
      "pos": [
        592.3187199529239,
        843.614511147869
      ],
      "size": [
        210,
        142
      ],
      "flags": {
        "collapsed": true
      },
      "order": 108,
      "mode": 0,
      "inputs": [
        {
          "name": "open_node_link",
          "type": "ComfyUI-Power-Flow.FOR_LINK",
          "link": 532
        },
        {
          "name": "initial_value_0",
          "type": "*",
          "link": 531
        },
        {
          "name": "initial_value_1",
          "type": "*",
          "link": 702
        }
      ],
      "outputs": [
        {
          "name": "value_0",
          "type": "*",
          "links": [
            574
          ]
        },
        {
          "name": "value_1",
          "type": "*",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "ComfyUI_Power_Flow.ForLoopClose",
        "aux_id": "x3bits/ComfyUI-Power-Flow",
        "ver": "02849b2080737bb16edf7b82092094547b524f2d"
      },
      "widgets_values": [
        null,
        null
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 310,
      "type": "GetImageSizeAndCount",
      "pos": [
        799.3083706228866,
        816.6508270658378
      ],
      "size": [
        195.9,
        86
      ],
      "flags": {},
      "order": 109,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 574
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            593
          ]
        },
        {
          "label": "768 width",
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "label": "1024 height",
          "name": "height",
          "type": "INT",
          "links": null
        },
        {
          "label": "93 count",
          "name": "count",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSizeAndCount",
        "cnr_id": "comfyui-kjnodes",
        "ver": "3fcd22f2fe2be69c3229f192362b91888277cbcb"
      },
      "widgets_values": [],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 389,
      "type": "GetNode",
      "pos": [
        1268.1903849586345,
        502.96967550629523
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 30,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            730
          ]
        }
      ],
      "title": "Get_reference_image",
      "properties": {},
      "widgets_values": [
        "reference_image"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 260,
      "type": "GetNode",
      "pos": [
        1098.3598394883504,
        501.1558938182162
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 31,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            492
          ]
        }
      ],
      "title": "Get_original_fps",
      "properties": {},
      "widgets_values": [
        "original_fps"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 387,
      "type": "RIFE VFI",
      "pos": [
        1112.3319627282337,
        1216.637187824433
      ],
      "size": [
        300.9,
        201.2812299416928
      ],
      "flags": {},
      "order": 114,
      "mode": 4,
      "inputs": [
        {
          "name": "frames",
          "type": "IMAGE",
          "link": 732
        },
        {
          "name": "optional_interpolation_states",
          "shape": 7,
          "type": "INTERPOLATION_STATES",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            728
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "RIFE VFI",
        "cnr_id": "comfyui-frame-interpolation",
        "ver": "a969c01dbccd9e5510641be04eb51fe93f6bfc3d"
      },
      "widgets_values": [
        "rife47.pth",
        10,
        2,
        true,
        true,
        1
      ]
    },
    {
      "id": 345,
      "type": "SetNode",
      "pos": [
        -2486.2174687025245,
        -335.2862558395087
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 67,
      "mode": 0,
      "inputs": [
        {
          "name": "*",
          "type": "*",
          "link": 623
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_isLoop",
      "properties": {
        "previousName": "isLoop"
      },
      "widgets_values": [
        "isLoop"
      ]
    },
    {
      "id": 352,
      "type": "SetNode",
      "pos": [
        -2485.8005066024853,
        -278.7771315137664
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 68,
      "mode": 0,
      "inputs": [
        {
          "name": "*",
          "type": "*",
          "link": 642
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_repeats",
      "properties": {
        "previousName": "repeats"
      },
      "widgets_values": [
        "repeats"
      ]
    },
    {
      "id": 241,
      "type": "VHS_VideoCombine",
      "pos": [
        1451.0586619399533,
        564.7357596105203
      ],
      "size": [
        501.5940856933594,
        334
      ],
      "flags": {},
      "order": 115,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 728
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 457
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        },
        {
          "name": "frame_rate",
          "type": "FLOAT",
          "widget": {
            "name": "frame_rate"
          },
          "link": 492
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530"
      },
      "widgets_values": {
        "frame_rate": 32,
        "loop_count": 0,
        "filename_prefix": "ANIMATE",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "ANIMATE_00003.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 32,
            "workflow": "ANIMATE_00003.png",
            "fullpath": "/workspace/ComfyUI/output/ANIMATE_00003.mp4"
          }
        }
      },
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 388,
      "type": "ColorMatchToReference",
      "pos": [
        1109.0507327865428,
        1047.6538458272669
      ],
      "size": [
        285.4166015625,
        102
      ],
      "flags": {},
      "order": 113,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 731
        },
        {
          "name": "reference_image",
          "type": "IMAGE",
          "link": 730
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            732
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ColorMatchToReference",
        "aux_id": "vrgamegirl19/comfyui-vrgamedevgirl",
        "ver": "30a24750d44fd0a5f91e64d23554816fa9621761"
      },
      "widgets_values": [
        0.1,
        4
      ]
    },
    {
      "id": 272,
      "type": "FastFilmGrain",
      "pos": [
        1107.5319485998218,
        870.0793256448176
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 112,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 513
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            731
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "FastFilmGrain",
        "aux_id": "vrgamegirl19/comfyui-vrgamedevgirl",
        "ver": "18117eb1bc71ddd322d8d86bae19c362f1f282b3"
      },
      "widgets_values": [
        0.01,
        0.5,
        4
      ]
    },
    {
      "id": 271,
      "type": "FastUnsharpSharpen",
      "pos": [
        1106.924902964913,
        754.5124612010287
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 111,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 594
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            513
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "FastUnsharpSharpen",
        "aux_id": "vrgamegirl19/comfyui-vrgamedevgirl",
        "ver": "18117eb1bc71ddd322d8d86bae19c362f1f282b3"
      },
      "widgets_values": [
        0.1
      ]
    },
    {
      "id": 384,
      "type": "WanAnimateToVideoEnhanced",
      "pos": [
        105.68779008472087,
        1013.9959206052207
      ],
      "size": [
        324.751953125,
        478
      ],
      "flags": {},
      "order": 102,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 688
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 689
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 690
        },
        {
          "name": "clip_vision_output",
          "shape": 7,
          "type": "CLIP_VISION_OUTPUT",
          "link": 691
        },
        {
          "name": "reference_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 692
        },
        {
          "name": "face_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 693
        },
        {
          "name": "pose_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 694
        },
        {
          "name": "background_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 700
        },
        {
          "name": "character_mask",
          "shape": 7,
          "type": "MASK",
          "link": 701
        },
        {
          "name": "continue_motion",
          "shape": 7,
          "type": "IMAGE",
          "link": 735
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 697
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 698
        },
        {
          "name": "length",
          "type": "INT",
          "widget": {
            "name": "length"
          },
          "link": 699
        },
        {
          "name": "video_frame_offset",
          "type": "INT",
          "widget": {
            "name": "video_frame_offset"
          },
          "link": 736
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            703
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            704
          ]
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            705
          ]
        },
        {
          "name": "trim_latent",
          "type": "INT",
          "links": [
            706
          ]
        },
        {
          "name": "trim_image",
          "type": "INT",
          "links": [
            707
          ]
        },
        {
          "name": "video_frame_offset",
          "type": "INT",
          "links": [
            702
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "WanAnimateToVideoEnhanced",
        "cnr_id": "wananimate-enhancer",
        "aux_id": "wallen0322/ComfyUI-WanAnimate-Enhancer",
        "ver": "ded9f7f7af0e2d4075df12b5d14fdde05250c034"
      },
      "widgets_values": [
        832,
        480,
        77,
        1,
        5,
        0,
        1,
        1,
        1,
        1,
        true
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 270,
      "type": "GrowMask",
      "pos": [
        -485.2596835040099,
        -671.5618478301518
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 89,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 749
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            511
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "GrowMask",
        "cnr_id": "comfy-core",
        "ver": "0.3.60"
      },
      "widgets_values": [
        10,
        true
      ]
    },
    {
      "id": 355,
      "type": "ImageFromBatch",
      "pos": [
        -1175.9993633511283,
        83.42989118382224
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 92,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 647
        },
        {
          "name": "batch_index",
          "type": "INT",
          "widget": {
            "name": "batch_index"
          },
          "link": 666
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            648
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch",
        "cnr_id": "comfy-core",
        "ver": "0.3.65"
      },
      "widgets_values": [
        0,
        1
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 285,
      "type": "ImageBatch",
      "pos": [
        307.5439689250044,
        813.8629317032108
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 107,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 592
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 660
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            531
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBatch",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 347,
      "type": "ComfyUI_Power_Flow.If",
      "pos": [
        307.1998389528724,
        940.1647852339274
      ],
      "size": [
        210,
        78
      ],
      "flags": {
        "collapsed": true
      },
      "order": 101,
      "mode": 0,
      "inputs": [
        {
          "name": "if_true",
          "shape": 7,
          "type": "*",
          "link": 627
        },
        {
          "name": "if_false",
          "shape": 7,
          "type": "*",
          "link": 629
        },
        {
          "name": "condition",
          "type": "BOOLEAN",
          "widget": {
            "name": "condition"
          },
          "link": 626
        }
      ],
      "outputs": [
        {
          "name": "value",
          "type": "*",
          "links": [
            699
          ]
        }
      ],
      "title": "If more Chunks",
      "properties": {
        "Node name for S&R": "ComfyUI_Power_Flow.If",
        "aux_id": "x3bits/ComfyUI-Power-Flow",
        "ver": "02849b2080737bb16edf7b82092094547b524f2d"
      },
      "widgets_values": [
        false
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 349,
      "type": "ComfyUI_Power_Flow.Int",
      "pos": [
        120.86185572262595,
        856.9100454342266
      ],
      "size": [
        270,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 32,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "links": [
            629
          ]
        }
      ],
      "title": "noFrames",
      "properties": {
        "Node name for S&R": "ComfyUI_Power_Flow.Int",
        "aux_id": "x3bits/ComfyUI-Power-Flow",
        "ver": "02849b2080737bb16edf7b82092094547b524f2d"
      },
      "widgets_values": [
        0
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 348,
      "type": "GetNode",
      "pos": [
        117.00541499308913,
        794.773816628411
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 33,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": [
            626
          ]
        }
      ],
      "title": "Get_isLoop",
      "properties": {},
      "widgets_values": [
        "isLoop"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 281,
      "type": "ComfyUI_Power_Flow.ForLoopOpen",
      "pos": [
        -94.42462694498792,
        863.1266126616745
      ],
      "size": [
        210,
        182
      ],
      "flags": {
        "collapsed": true
      },
      "order": 100,
      "mode": 0,
      "inputs": [
        {
          "name": "list",
          "type": "*",
          "link": 622
        },
        {
          "name": "initial_value_0",
          "type": "*",
          "link": 577
        },
        {
          "name": "initial_value_1",
          "type": "*",
          "link": 724
        }
      ],
      "outputs": [
        {
          "name": "reference",
          "type": "ComfyUI-Power-Flow.FOR_LINK",
          "links": [
            532
          ]
        },
        {
          "name": "item",
          "type": "*",
          "links": [
            627
          ]
        },
        {
          "name": "value_0",
          "type": "*",
          "links": [
            592,
            735
          ]
        },
        {
          "name": "value_1",
          "type": "*",
          "links": [
            736
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ComfyUI_Power_Flow.ForLoopOpen",
        "aux_id": "x3bits/ComfyUI-Power-Flow",
        "ver": "02849b2080737bb16edf7b82092094547b524f2d"
      },
      "widgets_values": [
        null,
        null
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 344,
      "type": "GetNode",
      "pos": [
        -107.17181920399071,
        799.7879579864415
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 34,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": [
            622
          ]
        }
      ],
      "title": "Get_chunk_list",
      "properties": {},
      "widgets_values": [
        "chunk_list"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 364,
      "type": "ComfyUI_Power_Flow.Int",
      "pos": [
        -3084.105414086616,
        1559.9794490440775
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "links": [
            661
          ]
        }
      ],
      "title": "Annotation frame",
      "properties": {
        "Node name for S&R": "ComfyUI_Power_Flow.Int",
        "aux_id": "x3bits/ComfyUI-Power-Flow",
        "ver": "02849b2080737bb16edf7b82092094547b524f2d"
      },
      "widgets_values": [
        10
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 365,
      "type": "SetNode",
      "pos": [
        -3074.919055932421,
        1678.8446209191388
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 661
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            662,
            663
          ]
        }
      ],
      "title": "Set_annotation_frame",
      "properties": {
        "previousName": "annotation_frame"
      },
      "widgets_values": [
        "annotation_frame"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 366,
      "type": "GetNode",
      "pos": [
        -1186.6851776771068,
        -733.3654092391769
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 36,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            664,
            666
          ]
        }
      ],
      "title": "Get_annotation_frame",
      "properties": {},
      "widgets_values": [
        "annotation_frame"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 360,
      "type": "ImageFromBatch",
      "pos": [
        -865.7376640896593,
        -734.2798789001142
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 654
        },
        {
          "name": "batch_index",
          "type": "INT",
          "widget": {
            "name": "batch_index"
          },
          "link": 664
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            744
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageFromBatch",
        "cnr_id": "comfy-core",
        "ver": "0.3.65"
      },
      "widgets_values": [
        0,
        1
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 356,
      "type": "PreviewImage",
      "pos": [
        -499.3951687752178,
        -26.31336274652307
      ],
      "size": [
        300.97962093966,
        433.9563418108703
      ],
      "flags": {},
      "order": 94,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 648
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.65"
      },
      "widgets_values": [],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 399,
      "type": "ResolutionMaster",
      "pos": [
        -2240.795349585183,
        116.52096081642554
      ],
      "size": [
        330,
        475
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "input_image",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            755
          ]
        },
        {
          "name": "",
          "type": "INT",
          "links": [
            756
          ]
        },
        {
          "name": "",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "",
          "type": "INT",
          "links": null
        },
        {
          "name": "",
          "type": "LATENT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "ResolutionMaster",
        "mode": "Manual",
        "valueX": 624,
        "valueY": 832,
        "batch_size": 1,
        "canvas_min_x": 0,
        "canvas_max_x": 2048,
        "canvas_step_x": 64,
        "canvas_min_y": 0,
        "canvas_max_y": 2048,
        "canvas_step_y": 64,
        "canvas_decimals_x": 0,
        "canvas_decimals_y": 0,
        "canvas_snap": true,
        "canvas_dots": true,
        "canvas_frame": true,
        "action_slider_snap_min": 16,
        "action_slider_snap_max": 256,
        "action_slider_snap_step": 16,
        "scaling_slider_min": 0.1,
        "scaling_slider_max": 4,
        "scaling_slider_step": 0.1,
        "megapixels_slider_min": 0.5,
        "megapixels_slider_max": 6,
        "megapixels_slider_step": 0.1,
        "snapValue": 64,
        "upscaleValue": 1,
        "targetResolution": 1080,
        "targetMegapixels": 2,
        "rescaleMode": "resolution",
        "rescaleValue": 1.998520162579474,
        "autoDetect": false,
        "autoFitOnChange": false,
        "autoResizeOnChange": false,
        "selectedCategory": "WAN",
        "selectedPreset": "3:4 Portrait",
        "useCustomCalc": false,
        "manual_slider_min_w": 64,
        "manual_slider_max_w": 2048,
        "manual_slider_step_w": 64,
        "manual_slider_min_h": 64,
        "manual_slider_max_h": 2048,
        "manual_slider_step_h": 64,
        "section_actions_collapsed": false,
        "section_scaling_collapsed": true,
        "section_autoDetect_collapsed": true,
        "section_presets_collapsed": false,
        "dropdown_resolution_expanded": false,
        "dropdown_category_expanded": false,
        "dropdown_preset_expanded": false,
        "preset_selector_mode": "visual",
        "customPresetsJSON": "",
        "cnr_id": "Comfyui-Resolution-Master",
        "ver": "764da5344aef45110fbd6e1cd4bf6b4edebb7257"
      },
      "widgets_values": [
        "Manual",
        "latent_4x8",
        624,
        832,
        false,
        "resolution",
        1.998520162579474,
        1
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 163,
      "type": "SetNode",
      "pos": [
        -2035.7667126774927,
        643.1857570925271
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 756
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_height",
      "properties": {
        "previousName": "height"
      },
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 162,
      "type": "SetNode",
      "pos": [
        -2233.440167338191,
        644.9787674501702
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 755
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_width",
      "properties": {
        "previousName": "width"
      },
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 323,
      "type": "VHS_SelectEveryNthImage",
      "pos": [
        1107.2958947029076,
        596.5626011517711
      ],
      "size": [
        274,
        102
      ],
      "flags": {},
      "order": 110,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 593
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            594
          ]
        },
        {
          "name": "count",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_SelectEveryNthImage",
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "08e8df15db24da292d4b7f943c460dc2ab442b24"
      },
      "widgets_values": {
        "select_every_nth": 1,
        "skip_first_images": 5
      }
    },
    {
      "id": 401,
      "type": "SAM3Propagate",
      "pos": [
        -1188.0609904008443,
        -506.4263471765803
      ],
      "size": [
        270,
        170
      ],
      "flags": {},
      "order": 84,
      "mode": 0,
      "inputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "link": 757
        },
        {
          "name": "video_state",
          "type": "SAM3_VIDEO_STATE",
          "link": 764
        }
      ],
      "outputs": [
        {
          "name": "masks",
          "type": "SAM3_VIDEO_MASKS",
          "links": [
            759
          ]
        },
        {
          "name": "scores",
          "type": "SAM3_VIDEO_SCORES",
          "links": [
            760
          ]
        },
        {
          "name": "video_state",
          "type": "SAM3_VIDEO_STATE",
          "links": [
            761
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SAM3Propagate",
        "cnr_id": "comfyui-sam3",
        "ver": "3349483b54730c192aa013bf0fb8e92e599ff571"
      },
      "widgets_values": [
        0,
        -1,
        "both",
        true
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 385,
      "type": "Display Int (rgthree)",
      "pos": [
        108.3480695708479,
        1567.0733145767194
      ],
      "size": [
        210,
        88
      ],
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "input",
          "type": "INT",
          "link": 708
        }
      ],
      "outputs": [],
      "title": "Loops",
      "properties": {
        "Node name for S&R": "Display Int (rgthree)",
        "cnr_id": "rgthree-comfy",
        "ver": "2b9eb36d3e1741e88dbfccade0e08137f7fa2bfb"
      },
      "widgets_values": [
        "5"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 403,
      "type": "SAM3VideoSegmentation",
      "pos": [
        -861.5200590361096,
        -680.7395200844876
      ],
      "size": [
        277.9,
        146
      ],
      "flags": {},
      "order": 76,
      "mode": 0,
      "inputs": [
        {
          "name": "video_frames",
          "type": "IMAGE",
          "link": 765
        },
        {
          "name": "positive_points",
          "shape": 7,
          "type": "SAM3_POINTS_PROMPT",
          "link": 762
        },
        {
          "name": "negative_points",
          "shape": 7,
          "type": "SAM3_POINTS_PROMPT",
          "link": 763
        }
      ],
      "outputs": [
        {
          "name": "video_state",
          "type": "SAM3_VIDEO_STATE",
          "links": [
            764
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SAM3VideoSegmentation",
        "cnr_id": "comfyui-sam3",
        "ver": "c74d8d18fd88baf318ee070fac38c4ad26ac0ece"
      },
      "widgets_values": [
        "point",
        0.3,
        0.3
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 398,
      "type": "SAM3VideoOutput",
      "pos": [
        -859.6204182049377,
        -484.98568112763223
      ],
      "size": [
        270,
        122
      ],
      "flags": {},
      "order": 88,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "SAM3_VIDEO_MASKS",
          "link": 759
        },
        {
          "name": "video_state",
          "type": "SAM3_VIDEO_STATE",
          "link": 761
        },
        {
          "name": "scores",
          "shape": 7,
          "type": "SAM3_VIDEO_SCORES",
          "link": 760
        }
      ],
      "outputs": [
        {
          "name": "masks",
          "type": "MASK",
          "links": [
            749
          ]
        },
        {
          "name": "frames",
          "type": "IMAGE",
          "links": null
        },
        {
          "name": "visualization",
          "type": "IMAGE",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "SAM3VideoOutput",
        "cnr_id": "comfyui-sam3",
        "ver": "2bfe28360a831b2907953e082df4fb7b250bbe3a"
      },
      "widgets_values": [
        -1,
        true
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 210,
      "type": "GetNode",
      "pos": [
        -1182.3095400281725,
        -680.2245849505473
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 38,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            417,
            654,
            765
          ]
        }
      ],
      "title": "Get_input_video",
      "properties": {},
      "widgets_values": [
        "input_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 390,
      "type": "WanAnimateModelEnhancer",
      "pos": [
        -2586.184269150105,
        -129.04668022186152
      ],
      "size": [
        236.9,
        61.28122994169257
      ],
      "flags": {},
      "order": 62,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 767
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            734
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "WanAnimateModelEnhancer",
        "cnr_id": "wananimate-enhancer",
        "aux_id": "wallen0322/ComfyUI-WanAnimate-Enhancer",
        "ver": "ded9f7f7af0e2d4075df12b5d14fdde05250c034"
      },
      "widgets_values": [
        true
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 381,
      "type": "IAMCCS_ModelWithLoRA",
      "pos": [
        -2579.7723965000105,
        -10.107065838624965
      ],
      "size": [
        245.9,
        46
      ],
      "flags": {},
      "order": 75,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 734
        },
        {
          "name": "lora",
          "type": "LORA",
          "link": 680
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            768
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "IAMCCS_ModelWithLoRA",
        "aux_id": "IAMCCS/IAMCCS-nodes",
        "ver": "65fd37f1f3d748bf673d3d0609cc22605a37ccde"
      },
      "widgets_values": [],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 373,
      "type": "IAMCCS_WanLoRAStack",
      "pos": [
        -3039.464334662199,
        105.60159866342882
      ],
      "size": [
        426.1875,
        257.06378173828125
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "lora",
          "shape": 7,
          "type": "LORA",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "LORA",
          "type": "LORA",
          "links": [
            680
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "IAMCCS_WanLoRAStack",
        "aux_id": "IAMCCS/IAMCCS-nodes",
        "ver": "65fd37f1f3d748bf673d3d0609cc22605a37ccde"
      },
      "widgets_values": [
        "Lightx2v/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors",
        1,
        "split_files/loras/wan2.2_animate_14B_relight_lora_bf16.safetensors",
        1,
        "no",
        0,
        "no",
        0,
        "wan2x"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 379,
      "type": "ModelSamplingSD3",
      "pos": [
        -2578.0688163010814,
        119.0683101504443
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 83,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 768
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            676
          ]
        }
      ],
      "title": "Shift",
      "properties": {
        "Node name for S&R": "ModelSamplingSD3",
        "cnr_id": "comfy-core",
        "ver": "0.3.46",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        8.000000000000002
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 378,
      "type": "SetNode",
      "pos": [
        -2569.379144815333,
        258.69817466337935
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 87,
      "mode": 0,
      "inputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "link": 676
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_MODEL",
      "properties": {
        "previousName": "MODEL"
      },
      "widgets_values": [
        "MODEL"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 374,
      "type": "VAELoader",
      "pos": [
        -3030.3989543181565,
        422.33087722788224
      ],
      "size": [
        306.36004638671875,
        58
      ],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            675
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "models": [
          {
            "name": "wan_2.1_vae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors",
            "directory": "vae"
          }
        ]
      },
      "widgets_values": [
        "Wan2_1_VAE_fp32.safetensors"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 377,
      "type": "SetNode",
      "pos": [
        -2690.1588253110435,
        451.94781222834604
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "link": 675
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_VAE",
      "properties": {
        "previousName": "VAE"
      },
      "widgets_values": [
        "VAE"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 375,
      "type": "Seed (rgthree)",
      "pos": [
        -3014.870069657068,
        544.598005940423
      ],
      "size": [
        315,
        130
      ],
      "flags": {
        "collapsed": true
      },
      "order": 41,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "dir": 4,
          "name": "SEED",
          "shape": 3,
          "type": "INT",
          "links": [
            674
          ]
        }
      ],
      "properties": {
        "randomMax": 1125899906842624,
        "randomMin": 0,
        "cnr_id": "rgthree-comfy",
        "ver": "2b9eb36d3e1741e88dbfccade0e08137f7fa2bfb"
      },
      "widgets_values": [
        -1,
        "",
        "",
        ""
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 376,
      "type": "SetNode",
      "pos": [
        -2741.5209033241636,
        542.0385593684784
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 674
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_SEED",
      "properties": {
        "previousName": "SEED"
      },
      "widgets_values": [
        "SEED"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 4,
      "type": "CLIPVisionLoader",
      "pos": [
        -3112.683460229296,
        797.1125042199201
      ],
      "size": [
        306.36004638671875,
        58
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "slot_index": 0,
          "links": [
            4
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "models": [
          {
            "name": "clip_vision_h.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/clip_vision/clip_vision_h.safetensors",
            "directory": "clip_vision"
          }
        ]
      },
      "widgets_values": [
        "wan21NSFWClipVisionH_v10.safetensors"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 10,
      "type": "LoadImage",
      "pos": [
        -3086.799182885546,
        990.1585247277326
      ],
      "size": [
        340,
        440
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            344,
            382
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "slot_index": 1,
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        "Snapshot 30-09-2025 14_55.PNG",
        "image"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 400,
      "type": "LoadSAM3Model",
      "pos": [
        -1187.2585402278266,
        -632.0797301057012
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "links": [
            757
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LoadSAM3Model",
        "cnr_id": "comfyui-sam3",
        "ver": "3349483b54730c192aa013bf0fb8e92e599ff571"
      },
      "widgets_values": [
        "models/sam3/sam3.pt"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 391,
      "type": "SAM3PointCollector",
      "pos": [
        -1191.1580068459732,
        -289.24437083339643
      ],
      "size": [
        672.5739393880102,
        950
      ],
      "flags": {},
      "order": 69,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 744
        }
      ],
      "outputs": [
        {
          "name": "positive_points",
          "type": "SAM3_POINTS_PROMPT",
          "links": [
            762
          ]
        },
        {
          "name": "negative_points",
          "type": "SAM3_POINTS_PROMPT",
          "links": [
            763
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SAM3PointCollector",
        "cnr_id": "comfyui-sam3",
        "ver": "2bfe28360a831b2907953e082df4fb7b250bbe3a"
      },
      "widgets_values": [
        "{\"positive\":[{\"x\":357.44980777401,\"y\":152.36215274616998},{\"x\":286.39011215572,\"y\":147.03267522752228},{\"x\":337.90839147898026,\"y\":226.974838007238},{\"x\":394.75614797361226,\"y\":189.668495376704},{\"x\":416.07405665909926,\"y\":115.05581011563599},{\"x\":394.75614797361226,\"y\":56.43155741051114},{\"x\":339.6848838694375,\"y\":36.890139842136186},{\"x\":277.50765020343374,\"y\":47.549094879431614},{\"x\":257.966233908404,\"y\":104.39685507834056},{\"x\":273.95466542251927,\"y\":180.78603284562448}],\"negative\":[]}",
        "[{\"x\":357.44980777401,\"y\":152.36215274616998},{\"x\":286.39011215572,\"y\":147.03267522752228},{\"x\":337.90839147898026,\"y\":226.974838007238},{\"x\":394.75614797361226,\"y\":189.668495376704},{\"x\":416.07405665909926,\"y\":115.05581011563599},{\"x\":394.75614797361226,\"y\":56.43155741051114},{\"x\":339.6848838694375,\"y\":36.890139842136186},{\"x\":277.50765020343374,\"y\":47.549094879431614},{\"x\":257.966233908404,\"y\":104.39685507834056},{\"x\":273.95466542251927,\"y\":180.78603284562448}]",
        "[]",
        ""
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 245,
      "type": "VHS_LoadVideo",
      "pos": [
        -2691.422473901171,
        918.2506878136701
      ],
      "size": [
        330.7857971191406,
        738.3810628255208
      ],
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            643,
            644
          ]
        },
        {
          "name": "frame_count",
          "type": "INT",
          "links": []
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "links": [
            465
          ]
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "links": [
            462
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo",
        "cnr_id": "comfyui-videohelpersuite",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530"
      },
      "widgets_values": {
        "video": "WAN22-i2v-VFI-20-PRO-interpolate_00003.mp4",
        "force_rate": 0,
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 401,
        "skip_first_frames": 1,
        "select_every_nth": 1,
        "format": "Wan",
        "videopreview": {
          "hidden": false,
          "paused": true,
          "params": {
            "force_rate": 0,
            "custom_width": 0,
            "custom_height": 0,
            "frame_load_cap": 401,
            "skip_first_frames": 1,
            "select_every_nth": 1,
            "filename": "WAN22-i2v-VFI-20-PRO-interpolate_00003.mp4",
            "type": "input",
            "format": "video/mp4"
          }
        }
      },
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 280,
      "type": "PgLazyPromptMini",
      "pos": [
        -1785.775438145725,
        126.54360885032105
      ],
      "size": [
        483.2640686035156,
        455.0621337890625
      ],
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 526
        }
      ],
      "outputs": [
        {
          "name": "POS_OUT",
          "type": "CONDITIONING",
          "links": [
            524
          ]
        },
        {
          "name": "NEG_OUT",
          "type": "CONDITIONING",
          "links": [
            525
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "PgLazyPromptMini",
        "history_path": "custom_nodes\\prompt_history.json",
        "max_entries": 500,
        "aux_id": "GizmoR13/PG-Nodes",
        "ver": "cd9a1fb6d363bc909dc3d64621b4ede699855f8f"
      },
      "widgets_values": [
        "",
        "è‰²è°ƒè‰³ä¸½ï¼Œè¿‡æ›ï¼Œé™æ€ï¼Œç»†èŠ‚æ¨¡ç³Šä¸æ¸…ï¼Œå­—å¹•ï¼Œé£Žæ ¼ï¼Œä½œå“ï¼Œç”»ä½œï¼Œç”»é¢ï¼Œé™æ­¢ï¼Œæ•´ä½“å‘ç°ï¼Œæœ€å·®è´¨é‡ï¼Œä½Žè´¨é‡ï¼ŒJPEGåŽ‹ç¼©æ®‹ç•™ï¼Œä¸‘é™‹çš„ï¼Œæ®‹ç¼ºçš„ï¼Œå¤šä½™çš„æ‰‹æŒ‡ï¼Œç”»å¾—ä¸å¥½çš„æ‰‹éƒ¨ï¼Œç”»å¾—ä¸å¥½çš„è„¸éƒ¨ï¼Œç•¸å½¢çš„ï¼Œæ¯å®¹çš„ï¼Œå½¢æ€ç•¸å½¢çš„è‚¢ä½“ï¼Œæ‰‹æŒ‡èžåˆï¼Œé™æ­¢ä¸åŠ¨çš„ç”»é¢ï¼Œæ‚ä¹±çš„èƒŒæ™¯ï¼Œä¸‰æ¡è…¿ï¼ŒèƒŒæ™¯äººå¾ˆå¤šï¼Œå€’ç€èµ°, talking."
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 404,
      "type": "DiffusionModelLoaderKJ",
      "pos": [
        -3046.920106243465,
        -125.8450068016099
      ],
      "size": [
        311,
        178
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "extra_state_dict",
          "shape": 7,
          "type": "STRING",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            767
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "DiffusionModelLoaderKJ"
      },
      "widgets_values": [
        "split_files/diffusion_models/wan2.2_animate_14B_bf16.safetensors",
        "default",
        "default",
        false,
        "auto",
        true
      ],
      "color": "#323",
      "bgcolor": "#535"
    }
  ],
  "links": [
    [
      4,
      4,
      0,
      9,
      0,
      "CLIP_VISION"
    ],
    [
      127,
      57,
      0,
      58,
      0,
      "LATENT"
    ],
    [
      157,
      63,
      0,
      57,
      0,
      "LATENT"
    ],
    [
      250,
      112,
      0,
      114,
      1,
      "MASK"
    ],
    [
      344,
      10,
      0,
      9,
      1,
      "IMAGE"
    ],
    [
      360,
      158,
      0,
      100,
      1,
      "INT"
    ],
    [
      361,
      158,
      0,
      101,
      1,
      "INT"
    ],
    [
      382,
      10,
      0,
      185,
      0,
      "*"
    ],
    [
      397,
      9,
      0,
      201,
      0,
      "*"
    ],
    [
      399,
      203,
      0,
      63,
      0,
      "MODEL"
    ],
    [
      417,
      210,
      0,
      114,
      0,
      "IMAGE"
    ],
    [
      422,
      212,
      0,
      100,
      0,
      "IMAGE"
    ],
    [
      423,
      212,
      0,
      101,
      0,
      "IMAGE"
    ],
    [
      428,
      215,
      0,
      212,
      1,
      "INT"
    ],
    [
      429,
      216,
      0,
      212,
      2,
      "INT"
    ],
    [
      440,
      58,
      0,
      230,
      0,
      "IMAGE"
    ],
    [
      457,
      217,
      0,
      241,
      1,
      "AUDIO"
    ],
    [
      462,
      245,
      3,
      246,
      0,
      "VHS_VIDEOINFO"
    ],
    [
      465,
      245,
      2,
      213,
      0,
      "AUDIO"
    ],
    [
      466,
      246,
      0,
      214,
      0,
      "FLOAT"
    ],
    [
      492,
      260,
      0,
      241,
      4,
      "FLOAT"
    ],
    [
      506,
      216,
      0,
      158,
      2,
      "INT"
    ],
    [
      507,
      215,
      0,
      158,
      1,
      "INT"
    ],
    [
      511,
      270,
      0,
      112,
      0,
      "MASK"
    ],
    [
      513,
      271,
      0,
      272,
      0,
      "IMAGE"
    ],
    [
      524,
      280,
      0,
      191,
      0,
      "CONDITIONING"
    ],
    [
      525,
      280,
      1,
      192,
      0,
      "CONDITIONING"
    ],
    [
      526,
      2,
      0,
      280,
      0,
      "CLIP"
    ],
    [
      531,
      285,
      0,
      282,
      1,
      "*"
    ],
    [
      532,
      281,
      0,
      282,
      0,
      "ComfyUI-Power-Flow.FOR_LINK"
    ],
    [
      539,
      288,
      0,
      289,
      0,
      "LATENT"
    ],
    [
      540,
      289,
      0,
      287,
      0,
      "LATENT"
    ],
    [
      541,
      287,
      0,
      286,
      0,
      "IMAGE"
    ],
    [
      548,
      295,
      0,
      287,
      1,
      "VAE"
    ],
    [
      557,
      299,
      0,
      288,
      0,
      "MODEL"
    ],
    [
      561,
      190,
      0,
      58,
      1,
      "VAE"
    ],
    [
      574,
      282,
      0,
      310,
      0,
      "IMAGE"
    ],
    [
      577,
      311,
      0,
      281,
      1,
      "*"
    ],
    [
      581,
      230,
      0,
      311,
      0,
      "IMAGE"
    ],
    [
      582,
      212,
      0,
      313,
      0,
      "IMAGE"
    ],
    [
      583,
      313,
      0,
      206,
      0,
      "IMAGE"
    ],
    [
      585,
      315,
      0,
      63,
      4,
      "INT"
    ],
    [
      586,
      316,
      0,
      288,
      4,
      "INT"
    ],
    [
      592,
      281,
      2,
      285,
      0,
      "IMAGE"
    ],
    [
      593,
      310,
      0,
      323,
      0,
      "IMAGE"
    ],
    [
      594,
      323,
      0,
      271,
      0,
      "IMAGE"
    ],
    [
      595,
      313,
      3,
      324,
      0,
      "*"
    ],
    [
      615,
      338,
      0,
      329,
      0,
      "*"
    ],
    [
      620,
      326,
      0,
      329,
      1,
      "*"
    ],
    [
      621,
      329,
      1,
      343,
      0,
      "*"
    ],
    [
      622,
      344,
      0,
      281,
      0,
      "*"
    ],
    [
      623,
      329,
      2,
      345,
      0,
      "*"
    ],
    [
      626,
      348,
      0,
      347,
      2,
      "BOOLEAN"
    ],
    [
      627,
      281,
      1,
      347,
      0,
      "*"
    ],
    [
      629,
      349,
      0,
      347,
      1,
      "*"
    ],
    [
      640,
      329,
      0,
      350,
      0,
      "*"
    ],
    [
      642,
      329,
      3,
      352,
      0,
      "*"
    ],
    [
      643,
      245,
      0,
      212,
      0,
      "IMAGE"
    ],
    [
      644,
      245,
      0,
      158,
      0,
      "IMAGE"
    ],
    [
      647,
      114,
      0,
      355,
      0,
      "IMAGE"
    ],
    [
      648,
      355,
      0,
      356,
      0,
      "IMAGE"
    ],
    [
      649,
      101,
      0,
      357,
      0,
      "IMAGE"
    ],
    [
      651,
      100,
      0,
      358,
      0,
      "IMAGE"
    ],
    [
      654,
      210,
      0,
      360,
      0,
      "IMAGE"
    ],
    [
      660,
      286,
      0,
      285,
      1,
      "IMAGE"
    ],
    [
      661,
      364,
      0,
      365,
      0,
      "*"
    ],
    [
      662,
      365,
      0,
      357,
      1,
      "INT"
    ],
    [
      663,
      365,
      0,
      358,
      1,
      "INT"
    ],
    [
      664,
      366,
      0,
      360,
      1,
      "INT"
    ],
    [
      666,
      366,
      0,
      355,
      1,
      "INT"
    ],
    [
      667,
      100,
      0,
      169,
      0,
      "IMAGE"
    ],
    [
      668,
      101,
      0,
      168,
      0,
      "IMAGE"
    ],
    [
      670,
      357,
      0,
      368,
      0,
      "IMAGE"
    ],
    [
      671,
      358,
      0,
      369,
      0,
      "IMAGE"
    ],
    [
      674,
      375,
      0,
      376,
      0,
      "*"
    ],
    [
      675,
      374,
      0,
      377,
      0,
      "*"
    ],
    [
      676,
      379,
      0,
      378,
      0,
      "*"
    ],
    [
      680,
      373,
      0,
      381,
      1,
      "LORA"
    ],
    [
      688,
      296,
      0,
      384,
      0,
      "CONDITIONING"
    ],
    [
      689,
      297,
      0,
      384,
      1,
      "CONDITIONING"
    ],
    [
      690,
      295,
      0,
      384,
      2,
      "VAE"
    ],
    [
      691,
      298,
      0,
      384,
      3,
      "CLIP_VISION_OUTPUT"
    ],
    [
      692,
      294,
      0,
      384,
      4,
      "IMAGE"
    ],
    [
      693,
      290,
      0,
      384,
      5,
      "IMAGE"
    ],
    [
      694,
      291,
      0,
      384,
      6,
      "IMAGE"
    ],
    [
      697,
      292,
      0,
      384,
      10,
      "INT"
    ],
    [
      698,
      293,
      0,
      384,
      11,
      "INT"
    ],
    [
      699,
      347,
      0,
      384,
      12,
      "INT"
    ],
    [
      700,
      114,
      0,
      384,
      7,
      "IMAGE"
    ],
    [
      701,
      112,
      0,
      384,
      8,
      "MASK"
    ],
    [
      702,
      384,
      5,
      282,
      2,
      "*"
    ],
    [
      703,
      384,
      0,
      288,
      1,
      "CONDITIONING"
    ],
    [
      704,
      384,
      1,
      288,
      2,
      "CONDITIONING"
    ],
    [
      705,
      384,
      2,
      288,
      3,
      "LATENT"
    ],
    [
      706,
      384,
      3,
      289,
      1,
      "INT"
    ],
    [
      707,
      384,
      4,
      286,
      1,
      "INT"
    ],
    [
      708,
      353,
      0,
      385,
      0,
      "INT"
    ],
    [
      709,
      193,
      0,
      386,
      0,
      "CONDITIONING"
    ],
    [
      710,
      194,
      0,
      386,
      1,
      "CONDITIONING"
    ],
    [
      711,
      190,
      0,
      386,
      2,
      "VAE"
    ],
    [
      712,
      202,
      0,
      386,
      3,
      "CLIP_VISION_OUTPUT"
    ],
    [
      713,
      186,
      0,
      386,
      4,
      "IMAGE"
    ],
    [
      714,
      171,
      0,
      386,
      5,
      "IMAGE"
    ],
    [
      715,
      170,
      0,
      386,
      6,
      "IMAGE"
    ],
    [
      716,
      180,
      0,
      386,
      10,
      "INT"
    ],
    [
      717,
      181,
      0,
      386,
      11,
      "INT"
    ],
    [
      718,
      351,
      0,
      386,
      12,
      "INT"
    ],
    [
      719,
      386,
      0,
      63,
      1,
      "CONDITIONING"
    ],
    [
      720,
      386,
      1,
      63,
      2,
      "CONDITIONING"
    ],
    [
      721,
      386,
      2,
      63,
      3,
      "LATENT"
    ],
    [
      722,
      386,
      3,
      57,
      1,
      "INT"
    ],
    [
      723,
      386,
      4,
      230,
      1,
      "INT"
    ],
    [
      724,
      386,
      5,
      281,
      2,
      "*"
    ],
    [
      725,
      114,
      0,
      386,
      7,
      "IMAGE"
    ],
    [
      726,
      112,
      0,
      386,
      8,
      "MASK"
    ],
    [
      728,
      387,
      0,
      241,
      0,
      "IMAGE"
    ],
    [
      730,
      389,
      0,
      388,
      1,
      "IMAGE"
    ],
    [
      731,
      272,
      0,
      388,
      0,
      "IMAGE"
    ],
    [
      732,
      388,
      0,
      387,
      0,
      "IMAGE"
    ],
    [
      734,
      390,
      0,
      381,
      0,
      "MODEL"
    ],
    [
      735,
      281,
      2,
      384,
      9,
      "IMAGE"
    ],
    [
      736,
      281,
      3,
      384,
      13,
      "INT"
    ],
    [
      744,
      360,
      0,
      391,
      0,
      "IMAGE"
    ],
    [
      749,
      398,
      0,
      270,
      0,
      "MASK"
    ],
    [
      755,
      399,
      0,
      162,
      0,
      "INT"
    ],
    [
      756,
      399,
      1,
      163,
      0,
      "INT"
    ],
    [
      757,
      400,
      0,
      401,
      0,
      "SAM3_MODEL"
    ],
    [
      759,
      401,
      0,
      398,
      0,
      "SAM3_VIDEO_MASKS"
    ],
    [
      760,
      401,
      1,
      398,
      2,
      "SAM3_VIDEO_SCORES"
    ],
    [
      761,
      401,
      2,
      398,
      1,
      "SAM3_VIDEO_STATE"
    ],
    [
      762,
      391,
      0,
      403,
      1,
      "SAM3_POINTS_PROMPT"
    ],
    [
      763,
      391,
      1,
      403,
      2,
      "SAM3_POINTS_PROMPT"
    ],
    [
      764,
      403,
      0,
      401,
      1,
      "SAM3_VIDEO_STATE"
    ],
    [
      765,
      210,
      0,
      403,
      0,
      "IMAGE"
    ],
    [
      767,
      404,
      0,
      390,
      0,
      "MODEL"
    ],
    [
      768,
      381,
      0,
      379,
      0,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "id": 2,
      "title": "Reference image & original video",
      "bounding": [
        -3135.250354760546,
        708.2571880578107,
        824.7891235351562,
        1069.2947998046875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Prompt",
      "bounding": [
        -1817.802378862282,
        -135.91657158503622,
        569.2625122070312,
        798.058349609375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Controlnet",
      "bounding": [
        -2274.827392578125,
        708.2273067753945,
        882.577880859375,
        924.3291015625
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "Sampling 1",
      "bounding": [
        -1349.412808189615,
        709.2253011934487,
        1133.1008885325791,
        805.1807451559635
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 13,
      "title": "Character Mask and Background Video Preprocessing",
      "bounding": [
        -1216.1656137123498,
        -811.94477422925,
        1064.8002956103364,
        1492.0679321976536
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 14,
      "title": "Character mask",
      "bounding": [
        -503.30368985166683,
        -747.4436227324954,
        303.87005615234375,
        302.90771484375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 15,
      "title": "Background_video",
      "bounding": [
        -492.3068276961692,
        -413.9728124397575,
        299.8165588378906,
        198.468017578125
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 16,
      "title": "Final video size",
      "bounding": [
        -2271.6520081184626,
        38.87530797260634,
        391.57684326171875,
        622.9072265625
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 18,
      "title": "Final",
      "bounding": [
        1080.9366936394574,
        425.90311671860684,
        886.0269256728261,
        1021.5984603027642
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 19,
      "title": "Sampling x extend",
      "bounding": [
        -172.21091544531194,
        712.6119062643407,
        1204.4128885017071,
        1024.9890956255726
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 20,
      "title": "Logic",
      "bounding": [
        -3072.921660527407,
        -558.7682304101078,
        749.8323364257812,
        299.530029296875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 21,
      "title": "Model",
      "bounding": [
        -3074.721979088913,
        -216.90698073772492,
        754.6995239257812,
        882.2868288250463
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.5629069329972175,
      "offset": [
        3454.625157552782,
        448.27841339263637
      ]
    },
    "frontendVersion": "1.35.9",
    "workflowRendererVersion": "LG",
    "VHS_latentpreview": true,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}